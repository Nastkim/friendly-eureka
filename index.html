<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Helvetica Neue'}
    span.s1 {font-kerning: none}
    span.s2 {font: 12.0px 'PingFang SC'; font-kerning: none}
    span.s3 {font: 12.0px 'Lucida Grande'; font-kerning: none}
    span.s4 {font: 12.0px 'Apple Color Emoji'; font-kerning: none}
    span.s5 {font: 12.0px Helvetica; font-kerning: none; -webkit-text-stroke: 0px #000000}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;PuRauma&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.star { font-size: 2rem; cursor: pointer; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.selected { color: gold; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.hidden { display: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#results { position: relative; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.firework { position: absolute; width: 10px; height: 10px; background: gold; animation: explode 1s linear infinite; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes explode { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(3); } }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body class="bg-gray-900 text-white flex flex-col items-center justify-center h-screen"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Header --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="w-full text-center bg-gray-800 p-4 text-xl font-bold"&gt;PuRauma&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Voting Cards --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="card-container" class="relative w-11/12 max-w-md bg-gray-800 p-6 rounded-lg shadow-lg text-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;h2 id="card-title" class="text-2xl font-bold"&gt;&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;p id="card-desc" class="text-sm mt-2"&gt;&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="mt-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="star" data-value="1"&gt;</span><span class="s2">☆</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="star" data-value="2"&gt;</span><span class="s2">☆</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="star" data-value="3"&gt;</span><span class="s2">☆</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="star" data-value="4"&gt;</span><span class="s2">☆</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;span class="star" data-value="5"&gt;</span><span class="s2">☆</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;button id="next-btn" class="mt-6 bg-blue-500 px-4 py-2 rounded"&gt;Next </span><span class="s3">→</span><span class="s1">&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Submit Button --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button id="submit-btn" class="mt-6 bg-green-500 px-6 py-2 rounded hidden"&gt;Submit&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Waiting for Results --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="waiting" class="hidden text-center mt-6 text-lg"&gt;</span><span class="s4">⌛</span><span class="s1"> Waiting for results...&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Results Section --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="results" class="hidden mt-6 text-center text-xl"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const cards = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Bekky &amp; Shoham", desc: "Lorem ipsum..." },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Nastya &amp; Tomer", desc: "Lorem ipsum..." },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Avi &amp; Yonatan", desc: "Lorem ipsum..." },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Tali &amp; Yossi", desc: "Lorem ipsum..." },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Dalya &amp; Yonatan", desc: "Lorem ipsum..." },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ name: "Michal &amp; Matan", desc: "Lorem ipsum..." }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let currentIndex = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let votes = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let voterId = Math.random().toString(36).substr(2, 9);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const cardTitle = document.getElementById("card-title");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const cardDesc = document.getElementById("card-desc");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const nextBtn = document.getElementById("next-btn");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const submitBtn = document.getElementById("submit-btn");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const stars = document.querySelectorAll(".star");</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function loadCard(index) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>cardTitle.textContent = cards[index].name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>cardDesc.textContent = cards[index].desc;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>stars.forEach(star =&gt; star.classList.remove("selected"));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (votes[cards[index].name]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>for (let i = 0; i &lt; votes[cards[index].name]; i++) stars[i].classList.add("selected");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>stars.forEach(star =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>star.addEventListener("click", () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const rating = parseInt(star.dataset.value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>votes[cards[currentIndex].name] = rating;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>stars.forEach((s, i) =&gt; s.classList.toggle("selected", i &lt; rating));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>nextBtn.addEventListener("click", () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (!votes[cards[currentIndex].name]) return alert("Please rate before continuing!");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>currentIndex++;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (currentIndex &lt; cards.length) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>loadCard(currentIndex);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById("card-container").classList.add("hidden");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>submitBtn.classList.remove("hidden");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>submitBtn.addEventListener("click", async () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>submitBtn.classList.add("hidden");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById("waiting").classList.remove("hidden");</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p3"><span class="s5"><span class="Apple-converted-space">            </span>const endpoint = "</span>https://script.google.com/macros/s/AKfycbwCvtn2HvtXFqXe9C1siJxeEyrkANBRUYU4mf6sAv3G3c7yQME9V2pLJ8CpwOhoBYGwfg/exec<span class="s5">";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for (let [card, rating] of Object.entries(votes)) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>await fetch(endpoint, {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>method: "POST",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({ voterId, card, rating }),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { "Content-Type": "application/json" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function showResults(scores) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById("waiting").classList.add("hidden");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const results = document.getElementById("results");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>results.classList.remove("hidden");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>results.innerHTML = "&lt;h2&gt;Final Results&lt;/h2&gt;" + Object.entries(scores)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>.map(([card, avg]) =&gt; `&lt;p&gt;${card}: ${avg.toFixed(2)} </span><span class="s4">⭐</span><span class="s1">&lt;/p&gt;`)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>.join("");</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 30; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>let fw = document.createElement("div");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>fw.classList.add("firework");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>fw.style.left = Math.random() * 100 + "%";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>fw.style.top = Math.random() * 100 + "%";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>results.appendChild(fw);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; fw.remove(), 1000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>loadCard(currentIndex);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Simulated results (replace with real data)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>setTimeout(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>showResults({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Bekky &amp; Shoham": 4.3,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Nastya &amp; Tomer": 3.8,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Avi &amp; Yonatan": 4.5,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Tali &amp; Yossi": 4.1,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Dalya &amp; Yonatan": 4.2,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>"Michal &amp; Matan": 3.9</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}, 20000); // Fake results appear after 20s</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
